{
  "_meta": {
    "generated_at": "2026-02-18T00:00:00Z",
    "tool": "manual AST + grep audit of aquilia/serializers/",
    "methodology": "Static analysis: grep callsites across aquilia/, tests/, myapp/, benchmark/; cross-referenced with __all__ exports and controller/DI wiring."
  },
  "dead_serializers": [],
  "notes": [
    "All exported classes/functions in aquilia/serializers/ are reachable from either:",
    "  1) aquilia.__init__ top-level exports (public API)",
    "  2) aquilia.controller.engine / aquilia.controller.metadata (Serializer detection)",
    "  3) aquilia.di.providers.SerializerProvider (DI wiring)",
    "  4) aquilia.mail.config (ProviderConfigSerializer)",
    "  5) aquilia.mlops.serializers (MLOps domain serializers)",
    "  6) tests/test_serializers.py (comprehensive test coverage)",
    "",
    "No dead/unwired serializer classes or functions were found.",
    "However, the following HOT-PATH INEFFICIENCIES were identified:"
  ],
  "hot_path_issues": [
    {
      "id": "HP-1",
      "location": "aquilia/serializers/base.py:Serializer.__init__",
      "issue": "copy.deepcopy() called on EVERY field for EVERY Serializer instantiation",
      "impact": "HIGH — O(n_fields) deep copies per request; dominates allocation cost",
      "fix": "Cache bound-field tuples per class; use shallow copy + re-bind instead of deepcopy"
    },
    {
      "id": "HP-2",
      "location": "aquilia/serializers/base.py:Serializer.to_representation",
      "issue": "Creates new OrderedDict per call; iterates fields dict with string key lookups",
      "impact": "HIGH — OrderedDict is slower than dict; field iteration has overhead",
      "fix": "Use plain dict; precompute serialization plan as tuple of (name, field, is_write_only, source) at class creation"
    },
    {
      "id": "HP-3",
      "location": "aquilia/serializers/fields.py:SerializerField.get_attribute",
      "issue": "source.split('.') called on every attribute access even for simple (non-dotted) sources",
      "impact": "MEDIUM — unnecessary string split + loop for the common case",
      "fix": "At bind() time, detect simple vs dotted source and store optimized accessor"
    },
    {
      "id": "HP-4",
      "location": "aquilia/serializers/base.py:Serializer.run_validation",
      "issue": "getattr(self, f'validate_{field_name}', None) called per field per request",
      "impact": "LOW-MEDIUM — string formatting + hasattr per field",
      "fix": "Cache validate_* method references at __init__ time"
    },
    {
      "id": "HP-5",
      "location": "aquilia/serializers/base.py:ListSerializer.to_representation",
      "issue": "Creates new child Serializer instances inside is_valid() loop for each list item",
      "impact": "HIGH for list endpoints — N instantiations with N deepcopy sets",
      "fix": "Reuse child serializer with reset; precompute plan once"
    },
    {
      "id": "HP-6",
      "location": "aquilia/serializers/base.py:ModelSerializer._apply_model_fields",
      "issue": "Model field introspection + _build_serializer_field runs at __init__ time (every instantiation)",
      "impact": "HIGH for ModelSerializer — repeated per-request",
      "fix": "Cache generated fields at class level (metaclass or class variable)"
    },
    {
      "id": "HP-7",
      "location": "aquilia/serializers/fields.py:SerializerField._creation_counter",
      "issue": "Global mutable counter incremented at every field creation — thread-unsafe under concurrent instantiation",
      "impact": "LOW — correctness risk under threading",
      "fix": "Use itertools.count() or threading.local"
    },
    {
      "id": "HP-8",
      "location": "aquilia/serializers/base.py:_build_serializer_field",
      "issue": "Multiple getattr() calls with string matching for field type detection",
      "impact": "LOW — only at ModelSerializer init",
      "fix": "Addressed by caching model field generation at class level"
    }
  ],
  "unused_internal_symbols": [
    {
      "symbol": "SerializerField._python_type",
      "location": "aquilia/serializers/fields.py",
      "usage": "Set on subclasses but never read by any framework code",
      "recommendation": "Keep for user introspection; zero runtime cost"
    },
    {
      "symbol": "SerializerField._type_label",
      "location": "aquilia/serializers/fields.py",
      "usage": "Set on subclasses but only used indirectly in __repr__; never in hot paths",
      "recommendation": "Keep for debugging; zero runtime cost"
    }
  ]
}
