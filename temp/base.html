<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>{% block title %}{{ seo_title|default("Tubox - The Crous Database") }}{% endblock %}</title>
    <meta name="title" content="{{ seo_title|default('Tubox - The Crous Database') }}">
    <meta name="description"
        content="{{ seo_description|default('Tubox is a high-performance, tenant-isolated NoSQL database built for scale. Secure, fast, and easy to use.') }}">
    <meta name="keywords" content="database, nosql, fast, secure, python, crous">
    <meta name="author" content="Tubox Team">
    <link rel="canonical" href="{{ request.url }}">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{{ seo_type|default('website') }}">
    <meta property="og:url" content="{{ request.url }}">
    <meta property="og:title" content="{{ seo_title|default('Tubox - The Crous Database') }}">
    <meta property="og:description"
        content="{{ seo_description|default('Tubox is a high-performance, tenant-isolated NoSQL database built for scale. Secure, fast, and easy to use.') }}">
    <meta property="og:image" content="{{ request.base_url }}static/{{ seo_image|default('og-image.png') }}">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ request.url }}">
    <meta property="twitter:title" content="{{ seo_title|default('Tubox - The Crous Database') }}">
    <meta property="twitter:description"
        content="{{ seo_description|default('Tubox is a high-performance, tenant-isolated NoSQL database built for scale. Secure, fast, and easy to use.') }}">
    <meta property="twitter:image" content="{{ request.base_url }}static/{{ seo_image|default('og-image.png') }}">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">

    <!-- Structured Data (JSON-LD) -->
    {% if json_ld %}
    <script type="application/ld+json">
    {{ json_ld | tojson | safe }}
    </script>
    {% endif %}

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style"
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap">
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Framer Motion (via UMD/Global for simplicity in vanilla JS if needed, or just vanilla CSS animations for now as Framer Motion is React-first. I will use Anime.js or similar for vanilla JS animations or just CSS/GSAP. Wait, user specifically asked for Framer Motion. Framer Motion is React only. I will emulate with CSS Motion / Vanilla JS or use a similar library like Motion One which is the vanilla version of Framer Motion). -->
    <!-- Actually, Motion One is essentially "Framer Motion for Vanilla". I'll use that or standard CSS. Let's stick to simple CSS animations and Motion One    <!-- Motion One (Motion for Vanilla JS) -->
    <script src="https://cdn.jsdelivr.net/npm/motion@10.16.4/dist/motion.js"></script>

    <!-- Highlight.js Removed -->

    <!-- Ace Editor (Editable) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.7/ace.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.7/mode-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.7/mode-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.7/theme-dracula.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.7/theme-monokai.min.js"></script>

    <!-- Toastify -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

    <!-- ApexCharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                fontFamily: {
                    sans: ['Outfit', 'sans-serif'],
                    mono: ['Space Mono', 'monospace'],
                },
                extend: {
                    colors: {
                        crous: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e', // MongoDB Green-ish
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d',
                            950: '#052e16',
                        },
                        tubox: {
                            bg: '#02040a', // Very dark blue/black
                            card: '#09090b',
                            border: '#27272a',
                            accent: '#00ED64', // MongoDB Accent Green
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'p-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #02040a;
            color: #e4e4e7;
            font-family: 'Outfit', sans-serif;
            overflow-x: hidden;
        }

        .glass {
            background: rgba(9, 9, 11, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(39, 39, 42, 0.5);
        }

        .gradient-text {
            background: linear-gradient(135deg, #FFF 0%, #00ED64 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col selection:bg-crous-500 selection:text-white relative">
    <!-- Global Page Loader -->
    <div id="page-loader"
        class="fixed inset-0 z-[100] bg-black flex items-center justify-center transition-opacity duration-500">
        <div class="flex flex-col items-center gap-4">
            <i data-lucide="loader-2" class="w-10 h-10 text-crous-500 animate-spin"></i>
            <span class="text-sm text-gray-400 font-mono animate-pulse">Initializing...</span>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass border-b border-tubox-border/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center gap-3 cursor-pointer group"
                    onclick="window.location.href='/'">
                    <div
                        class="relative w-10 h-10 transition-transform group-hover:scale-105 group-hover:rotate-3 duration-300">
                        <!-- Glow effect -->
                        <div class="absolute inset-0 bg-crous-500/20 blur-xl rounded-full"></div>
                        <img src="/static/logo.png" alt="Tubox Logo"
                            class="relative z-10 w-full h-full object-contain drop-shadow-[0_0_10px_rgba(0,237,100,0.5)]">
                    </div>
                    <span class="font-bold text-2xl tracking-tighter gradient-text font-mono">Tubox</span>
                </div>

                <!-- Desktop Menu (Mega Nav) -->
                <div class="hidden md:flex items-center space-x-1">
                    <!-- Product -->
                    <div class="relative group px-3 py-2">
                        <button
                            class="flex items-center gap-1 text-sm font-medium text-gray-300 group-hover:text-crous-400 transition-colors focus:outline-none">
                            Product
                            <i data-lucide="chevron-down"
                                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"></i>
                        </button>
                        <!-- Mega Menu Dropdown -->
                        <div
                            class="absolute left-1/2 -translate-x-1/2 top-full pt-4 w-[800px] invisible group-hover:visible z-50 transition-all duration-300 ease-out transform origin-top opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0">
                            <!-- Menu Container -->
                            <div
                                class="bg-[#09090b]/95 backdrop-blur-2xl border border-tubox-border/50 rounded-xl shadow-[0_10px_50px_rgba(0,0,0,0.5)] p-6 overflow-hidden">
                                <div class="grid grid-cols-10 gap-8">
                                    <!-- Col 1: Features (3 cols) -->
                                    <div class="col-span-3">
                                        <h3
                                            class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4 flex items-center gap-2">
                                            <i data-lucide="layers" class="w-3 h-3"></i> Core Features
                                        </h3>
                                        <div class="space-y-2">
                                            <a href="/#features"
                                                class="flex items-start gap-3 group/item p-2 rounded-lg hover:bg-white/5 border border-transparent hover:border-white/5 transition-all duration-200">
                                                <div
                                                    class="mt-1 p-1.5 bg-crous-500/10 rounded-md border border-crous-500/20 text-crous-400 group-hover/item:text-crous-300 group-hover/item:shadow-[0_0_10px_rgba(74,222,128,0.2)] transition-all">
                                                    <i data-lucide="zap" class="w-4 h-4"></i>
                                                </div>
                                                <div>
                                                    <div
                                                        class="text-sm font-medium text-gray-200 group-hover/item:text-crous-400 transition-colors">
                                                        Performance</div>
                                                    <p class="text-[10px] text-gray-500 leading-tight mt-0.5">Sub-ms
                                                        latency at scale.</p>
                                                </div>
                                            </a>
                                            <a href="/#consistency"
                                                class="flex items-start gap-3 group/item p-2 rounded-lg hover:bg-white/5 border border-transparent hover:border-white/5 transition-all duration-200">
                                                <div
                                                    class="mt-1 p-1.5 bg-blue-500/10 rounded-md border border-blue-500/20 text-blue-400 group-hover/item:text-blue-300 group-hover/item:shadow-[0_0_10px_rgba(96,165,250,0.2)] transition-all">
                                                    <i data-lucide="shield-check" class="w-4 h-4"></i>
                                                </div>
                                                <div>
                                                    <div
                                                        class="text-sm font-medium text-gray-200 group-hover/item:text-blue-400 transition-colors">
                                                        Consistency</div>
                                                    <p class="text-[10px] text-gray-500 leading-tight mt-0.5">Tunable
                                                        consistency levels.</p>
                                                </div>
                                            </a>
                                            <a href="/#raft"
                                                class="flex items-start gap-3 group/item p-2 rounded-lg hover:bg-white/5 border border-transparent hover:border-white/5 transition-all duration-200">
                                                <div
                                                    class="mt-1 p-1.5 bg-purple-500/10 rounded-md border border-purple-500/20 text-purple-400 group-hover/item:text-purple-300 group-hover/item:shadow-[0_0_10px_rgba(168,85,247,0.2)] transition-all">
                                                    <i data-lucide="boxes" class="w-4 h-4"></i>
                                                </div>
                                                <div>
                                                    <div
                                                        class="text-sm font-medium text-gray-200 group-hover/item:text-purple-400 transition-colors">
                                                        Raft Consensus</div>
                                                    <p class="text-[10px] text-gray-500 leading-tight mt-0.5">Leader
                                                        election & logs.</p>
                                                </div>
                                            </a>
                                        </div>
                                    </div>

                                    <!-- Col 2: Use Cases (3 cols) -->
                                    <div class="col-span-3">
                                        <h3
                                            class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4 flex items-center gap-2">
                                            <i data-lucide="target" class="w-3 h-3"></i> Use Cases
                                        </h3>
                                        <div class="space-y-1">
                                            <a href="/#realtime"
                                                class="block group/item p-2 rounded-lg hover:bg-white/5 transition-colors">
                                                <div
                                                    class="text-sm font-medium text-gray-300 group-hover/item:text-crous-400 transition-colors mb-0.5">
                                                    Real-time Analytics</div>
                                                <p
                                                    class="text-[10px] text-gray-500 group-hover/item:text-gray-400 transition-colors">
                                                    Ingest & analyze instantly.</p>
                                            </a>
                                            <a href="/#iot"
                                                class="block group/item p-2 rounded-lg hover:bg-white/5 transition-colors">
                                                <div
                                                    class="text-sm font-medium text-gray-300 group-hover/item:text-crous-400 transition-colors mb-0.5">
                                                    IoT & Edge</div>
                                                <p
                                                    class="text-[10px] text-gray-500 group-hover/item:text-gray-400 transition-colors">
                                                    Lightweight device sync.</p>
                                            </a>
                                            <a href="/#gaming"
                                                class="block group/item p-2 rounded-lg hover:bg-white/5 transition-colors">
                                                <div
                                                    class="text-sm font-medium text-gray-300 group-hover/item:text-crous-400 transition-colors mb-0.5">
                                                    Gaming Leaderboards</div>
                                                <p
                                                    class="text-[10px] text-gray-500 group-hover/item:text-gray-400 transition-colors">
                                                    High throughput writes.</p>
                                            </a>
                                        </div>
                                    </div>

                                    <!-- Col 3: Featured Card (4 cols) -->
                                    <div class="col-span-4 pl-4 border-l border-white/5">
                                        <a href="/blog/"
                                            class="block h-full relative group/card rounded-xl overflow-hidden border border-white/10 hover:border-crous-500/50 transition-all duration-300">
                                            <!-- Background Image/Gradient -->
                                            <div
                                                class="absolute inset-0 bg-gradient-to-br from-gray-900 to-black group-hover/card:scale-105 transition-transform duration-500">
                                            </div>
                                            <div class="absolute inset-0 bg-[url('/static/grid.svg')] opacity-20"></div>
                                            <!-- Content -->
                                            <div class="relative p-5 h-full flex flex-col justify-end">
                                                <div class="absolute top-4 left-4">
                                                    <span
                                                        class="inline-flex items-center px-2 py-1 rounded-full text-[10px] font-bold bg-crous-500/20 text-crous-400 border border-crous-500/20 shadow-[0_0_10px_rgba(74,222,128,0.2)]">
                                                        <span
                                                            class="w-1.5 h-1.5 rounded-full bg-crous-400 animate-pulse mr-1.5"></span>
                                                        NEW
                                                    </span>
                                                </div>
                                                <div class="mb-2">
                                                    <i data-lucide="scan-line"
                                                        class="w-8 h-8 text-gray-400 group-hover/card:text-white transition-colors mb-3"></i>
                                                    <h4 class="text-lg font-bold text-white mb-1">Vector Search</h4>
                                                    <p
                                                        class="text-xs text-gray-400 group-hover/card:text-gray-300 transition-colors">
                                                        Store embeddings and perform semantic search directly in Tubox.
                                                    </p>
                                                </div>
                                                <div class="flex items-center text-xs font-medium text-crous-400 mt-2">
                                                    Learn more <i data-lucide="arrow-right"
                                                        class="w-3 h-3 ml-1 group-hover/card:translate-x-1 transition-transform"></i>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <div class="mt-5 pt-3 border-t border-white/5 flex justify-between items-center px-1">
                                    <div class="flex items-center gap-4 text-[10px] text-gray-500 font-mono">
                                        <span>Build: <span class="text-gray-400">v1.2.0</span></span>
                                        <span>•</span>
                                        <span>Status: <span class="text-crous-400">Operational</span></span>
                                    </div>
                                    <a href="/blog"
                                        class="text-[10px] font-medium text-gray-400 hover:text-white flex items-center gap-1 transition-colors">
                                        View all updates <i data-lucide="chevron-right" class="w-3 h-3"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Developers -->
                    <div class="relative group px-3 py-2">
                        <button
                            class="flex items-center gap-1 text-sm font-medium text-gray-300 group-hover:text-crous-400 transition-colors focus:outline-none">
                            Developers
                            <i data-lucide="chevron-down"
                                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"></i>
                        </button>
                        <div
                            class="absolute left-1/2 -translate-x-1/2 top-full pt-4 w-[750px] invisible group-hover:visible z-50 transition-all duration-300 ease-out transform origin-top opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0">
                            <!-- Menu Container -->
                            <div
                                class="bg-[#09090b]/95 backdrop-blur-2xl border border-tubox-border/50 rounded-xl shadow-[0_10px_50px_rgba(0,0,0,0.5)] p-0 overflow-hidden flex">
                                <!-- Col 1: Links (50%) -->
                                <div class="w-1/2 p-6">
                                    <div class="space-y-4">
                                        <a href="/docs"
                                            class="flex gap-4 p-3 rounded-lg hover:bg-white/5 border border-transparent hover:border-white/5 transition-all group/item">
                                            <div
                                                class="flex-shrink-0 w-10 h-10 bg-crous-500/10 rounded-lg flex items-center justify-center text-crous-400 border border-crous-500/20 group-hover/item:scale-105 transition-transform shadow-[0_0_10px_rgba(74,222,128,0.1)] group-hover/item:shadow-[0_0_15px_rgba(74,222,128,0.3)]">
                                                <i data-lucide="book-open" class="w-5 h-5"></i>
                                            </div>
                                            <div>
                                                <div
                                                    class="text-sm font-medium text-gray-100 group-hover/item:text-crous-400 transition-colors">
                                                    Documentation</div>
                                                <p class="text-[11px] text-gray-500 mt-0.5 leading-snug">Guides, API
                                                    references, and concepts.</p>
                                            </div>
                                        </a>
                                        <a href="/docs"
                                            class="flex gap-4 p-3 rounded-lg hover:bg-white/5 border border-transparent hover:border-white/5 transition-all group/item">
                                            <div
                                                class="flex-shrink-0 w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center text-orange-400 border border-orange-500/20 group-hover/item:scale-105 transition-transform shadow-[0_0_10px_rgba(251,146,60,0.1)] group-hover/item:shadow-[0_0_15px_rgba(251,146,60,0.3)]">
                                                <i data-lucide="terminal" class="w-5 h-5"></i>
                                            </div>
                                            <div>
                                                <div
                                                    class="text-sm font-medium text-gray-100 group-hover/item:text-orange-400 transition-colors">
                                                    API Reference</div>
                                                <p class="text-[11px] text-gray-500 mt-0.5 leading-snug">REST & gRPC
                                                    endpoints.</p>
                                            </div>
                                        </a>
                                        <a href="/docs/clients"
                                            class="flex gap-4 p-3 rounded-lg hover:bg-white/5 border border-transparent hover:border-white/5 transition-all group/item">
                                            <div
                                                class="flex-shrink-0 w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center text-blue-400 border border-blue-500/20 group-hover/item:scale-105 transition-transform shadow-[0_0_10px_rgba(96,165,250,0.1)] group-hover/item:shadow-[0_0_15px_rgba(96,165,250,0.3)]">
                                                <i data-lucide="code-2" class="w-5 h-5"></i>
                                            </div>
                                            <div>
                                                <div
                                                    class="text-sm font-medium text-gray-100 group-hover/item:text-blue-400 transition-colors">
                                                    Client Libraries</div>
                                                <p class="text-[11px] text-gray-500 mt-0.5 leading-snug">Python, Go,
                                                    Node.js SDKs.</p>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="mt-6 pt-4 border-t border-white/5">
                                        <a href="/docs/changelog"
                                            class="text-[11px] font-medium text-gray-400 hover:text-white flex items-center gap-2 group/link transition-colors">
                                            <i data-lucide="history"
                                                class="w-3 h-3 text-gray-500 group-hover/link:text-crous-400"></i>
                                            View recent changes
                                        </a>
                                    </div>
                                </div>

                                <!-- Col 2: Quick Start Visual (50%) -->
                                <div
                                    class="w-1/2 bg-black/40 border-l border-white/5 p-6 flex flex-col relative overflow-hidden">
                                    <!-- Decorative Blur -->
                                    <div
                                        class="absolute top-0 right-0 w-64 h-64 bg-crous-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none">
                                    </div>

                                    <h3
                                        class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4 flex items-center gap-2">
                                        <i data-lucide="play" class="w-3 h-3"></i> Quick Start
                                    </h3>

                                    <!-- Pseudo Terminal -->
                                    <div
                                        class="bg-[#1e1e1e] rounded-lg bg-black p-4 font-mono text-xs text-gray-300 shadow-2xl relative group/code">
                                        <div class="flex items-center gap-1.5 mb-3 absolute top-3 left-3">
                                            <div class="w-2.5 h-2.5 rounded-full bg-red-500/20"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-yellow-500/20"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-green-500/20"></div>
                                        </div>
                                        <div class="mt-4 space-y-2 bg-black p-4 rounded-xl border border-black/80">
                                            <div class="flex items-center text-gray-500 select-none mb-2 text-sm">
                                                <span class="text-crous-500 mr-2">$</span>
                                                pip install tubox-client
                                            </div>

                                            <pre
                                                class="bg-black text-gray-300 text-xs sm:text-sm leading-tight font-mono p-3 rounded-lg overflow-auto max-w-full max-h-64 whitespace-pre-wrap break-words">
<code>
<span class="text-purple-400">import</span> tubox_client

client = tubox_client.<span class="text-blue-400">Client</span>(
    <span class="text-green-400">host="tubox.cloud"</span>,
    <span class="text-green-400">port=61200</span>
)

<span class="text-gray-500"># Store a document</span>
db = client.use(<span class="text-green-400">"my_db"</span>)
users = db.collections.use(<span class="text-green-400">"users"</span>)

users.insert_one({
    <span class="text-green-400">"name"</span>: <span class="text-green-400">"Alice"</span>,
    <span class="text-green-400">"role"</span>: <span class="text-green-400">"admin"</span>
})
</code>
  </pre>
                                        </div>


                                        <!-- Copy Button Overlay -->
                                        <button
                                            class="absolute top-2 right-2 p-1.5 rounded-md text-gray-400 hover:text-white hover:bg-white/10 transition-colors opacity-0 group-hover/code:opacity-100"
                                            title="Copy to clipboard">
                                            <i data-lucide="copy" class="w-3.5 h-3.5"></i>
                                        </button>
                                    </div>
                                    <div class="mt-auto pt-4 text-center">
                                        <a href="/docs"
                                            class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-crous-500/10 text-crous-400 text-xs font-semibold hover:bg-crous-500/20 transition-all border border-crous-500/20 hover:border-crous-500/50 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)]">
                                            Get Started Now <i data-lucide="arrow-right" class="w-3 h-3"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Resources -->
                    <div class="relative group px-3 py-2">
                        <button
                            class="flex items-center gap-1 text-sm font-medium text-gray-300 group-hover:text-crous-400 transition-colors focus:outline-none">
                            Resources
                            <i data-lucide="chevron-down"
                                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"></i>
                        </button>
                        <div
                            class="absolute right-0 top-full pt-4 w-[350px] invisible group-hover:visible z-50 transition-all duration-300 ease-out transform origin-top opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0">
                            <!-- Menu Container -->
                            <div
                                class="bg-[#09090b]/95 backdrop-blur-2xl border border-tubox-border/50 rounded-xl shadow-[0_10px_50px_rgba(0,0,0,0.5)] p-2">
                                <div class="grid gap-1">
                                    <a href="/blog"
                                        class="block p-3 rounded-lg hover:bg-white/5 transition-all group/item">
                                        <div class="flex items-center gap-3">
                                            <div
                                                class="p-1.5 bg-gray-800/50 rounded-md text-gray-400 group-hover/item:text-crous-400 group-hover/item:bg-crous-500/10 transition-colors">
                                                <i data-lucide="newspaper" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <div
                                                    class="text-sm font-medium text-gray-200 group-hover/item:text-white transition-colors">
                                                    Blog</div>
                                                <p class="text-[10px] text-gray-500">Latest news & engineering posts.
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="/community"
                                        class="block p-3 rounded-lg hover:bg-white/5 transition-all group/item">
                                        <div class="flex items-center gap-3">
                                            <div
                                                class="p-1.5 bg-gray-800/50 rounded-md text-gray-400 group-hover/item:text-purple-400 group-hover/item:bg-purple-500/10 transition-colors">
                                                <i data-lucide="users" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <div
                                                    class="text-sm font-medium text-gray-200 group-hover/item:text-white transition-colors">
                                                    Community</div>
                                                <p class="text-[10px] text-gray-500">Join the discussion on Discord.</p>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="/careers"
                                        class="block p-3 rounded-lg hover:bg-white/5 transition-all group/item">
                                        <div class="flex items-center gap-3">
                                            <div
                                                class="p-1.5 bg-gray-800/50 rounded-md text-gray-400 group-hover/item:text-blue-400 group-hover/item:bg-blue-500/10 transition-colors">
                                                <i data-lucide="briefcase" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <div
                                                    class="text-sm font-medium text-gray-200 group-hover/item:text-white transition-colors">
                                                    Careers</div>
                                                <div class="flex items-center gap-2">
                                                    <p class="text-[10px] text-gray-500">We're hiring!</p>
                                                    <span
                                                        class="px-1.5 py-0.5 rounded text-[9px] bg-crous-500/10 text-crous-400 font-bold border border-crous-500/20">3
                                                        ROLES</span>
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <div class="h-px bg-white/5 my-1 mx-2"></div>
                                    <a href="/support"
                                        class="block p-3 rounded-lg hover:bg-white/5 transition-all group/item">
                                        <div class="flex items-center gap-3">
                                            <div
                                                class="p-1.5 bg-gray-800/50 rounded-md text-gray-400 group-hover/item:text-orange-400 group-hover/item:bg-orange-500/10 transition-colors">
                                                <i data-lucide="life-buoy" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <div
                                                    class="text-sm font-medium text-gray-200 group-hover/item:text-white transition-colors">
                                                    Help Center</div>
                                                <p class="text-[10px] text-gray-500">Guides, FAQs, and support.</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pricing (Direct) -->
                    <a href="/pricing"
                        class="px-3 py-2 text-sm font-medium text-gray-300 hover:text-crous-400 transition-colors">Pricing</a>
                </div>

                <!-- Auth Buttons -->
                <div class="hidden md:block">
                    <div class="flex items-center gap-4">
                        {% if user %}
                        <a href="/dashboard"
                            class="text-sm font-medium hover:text-white transition-colors">Dashboard</a>
                        <a href="/logout"
                            class="bg-red-500/10 hover:bg-red-500/20 text-red-500 px-4 py-2 rounded-md text-sm font-medium transition-all border border-red-500/20">
                            Logout
                        </a>
                        {% else %}
                        <a href="/login" class="text-sm font-medium hover:text-white transition-colors">Log in</a>
                        <a href="/register"
                            class="bg-white text-black hover:bg-crous-400 hover:text-black hover:shadow-[0_0_20px_rgba(74,222,128,0.4)] px-4 py-2 rounded-md text-sm font-medium transition-all">
                            Get Started
                        </a>
                        {% endif %}
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="-mr-2 flex md:hidden">
                    <button type="button" id="mobile-menu-button"
                        class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none transition-colors"
                        aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <span id="menu-icon-wrapper">
                            <i data-lucide="menu" class="w-6 h-6"></i>
                        </span>
                        <span id="close-icon-wrapper" class="hidden">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile menu, hidden by default -->
        <div class="md:hidden hidden" id="mobile-menu">
            <div
                class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-tubox-card/95 backdrop-blur-sm border-t border-tubox-border/50">
                <a href="/"
                    class="{% if request.path == '/' %}bg-gray-900 text-crous-400{% else %}text-gray-300 hover:bg-gray-700 hover:text-white{% endif %} block px-3 py-2 rounded-md text-base font-medium transition-colors">Home</a>
                <a href="/docs"
                    class="{% if request.path.startswith('/docs') %}bg-gray-900 text-crous-400{% else %}text-gray-300 hover:bg-gray-700 hover:text-white{% endif %} block px-3 py-2 rounded-md text-base font-medium transition-colors">Docs</a>
                <a href="/pricing"
                    class="{% if request.path == '/pricing' %}bg-gray-900 text-crous-400{% else %}text-gray-300 hover:bg-gray-700 hover:text-white{% endif %} block px-3 py-2 rounded-md text-base font-medium transition-colors">Pricing</a>
                <a href="/blog"
                    class="{% if request.path == '/blog' %}bg-gray-900 text-crous-400{% else %}text-gray-300 hover:bg-gray-700 hover:text-white{% endif %} block px-3 py-2 rounded-md text-base font-medium transition-colors">Blog</a>
                <a href="/community"
                    class="{% if request.path == '/community' %}bg-gray-900 text-crous-400{% else %}text-gray-300 hover:bg-gray-700 hover:text-white{% endif %} block px-3 py-2 rounded-md text-base font-medium transition-colors">Community</a>
                <a href="/careers"
                    class="{% if request.path == '/careers' %}bg-gray-900 text-crous-400{% else %}text-gray-300 hover:bg-gray-700 hover:text-white{% endif %} block px-3 py-2 rounded-md text-base font-medium transition-colors">Careers</a>
                <a href="/support"
                    class="{% if request.path == '/support' %}bg-gray-900 text-crous-400{% else %}text-gray-300 hover:bg-gray-700 hover:text-white{% endif %} block px-3 py-2 rounded-md text-base font-medium transition-colors">Support</a>

                <div class="border-t border-tubox-border/50 pt-4 pb-3 space-y-2">
                    {% if user %}
                    <a href="/dashboard"
                        class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 transition-colors">Dashboard</a>
                    <a href="/logout"
                        class="block px-3 py-2 rounded-md text-base font-medium bg-red-500/10 text-red-500 hover:bg-red-500/20 border border-red-500/20 transition-colors">Logout</a>
                    {% else %}
                    <a href="/login"
                        class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 transition-colors">Log
                        in</a>
                    <a href="/register"
                        class="block px-3 py-2 rounded-md text-base font-medium bg-white text-black hover:bg-crous-400 transition-all">Get
                        Started</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <!-- Content -->
    <main class="flex-grow pt-16 relative">
        <!-- Background Grid Effect -->
        <div class="fixed inset-0 z-[-1] opacity-20"
            style="background-image: linear-gradient(#27272a 1px, transparent 1px), linear-gradient(90deg, #27272a 1px, transparent 1px); background-size: 40px 40px;">
        </div>
        <div class="fixed inset-0 z-[-1] bg-gradient-to-b from-transparent via-tubox-bg/80 to-tubox-bg"></div>

        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="border-t border-tubox-border bg-tubox-card/50 backdrop-blur-sm mt-auto">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center">
                <div class="flex items-center gap-2">
                    <img src="/static/logo.png" alt="Tubox" class="w-6 h-6 object-contain opacity-80">
                    <span class="text-sm text-gray-400">© 2025 Tubox Server. Powered by Crous.</span>
                </div>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-crous-400 transition-colors">
                        <i data-lucide="github" class="w-5 h-5"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-crous-400 transition-colors">
                        <i data-lucide="twitter" class="w-5 h-5"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // Mobile Menu Toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIcon = document.getElementById('menu-icon-wrapper');
        const closeIcon = document.getElementById('close-icon-wrapper');

        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                const isHidden = mobileMenu.classList.contains('hidden');

                if (isHidden) {
                    mobileMenu.classList.remove('hidden');
                    menuIcon.classList.add('hidden');
                    closeIcon.classList.remove('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', 'true');
                } else {
                    mobileMenu.classList.add('hidden');
                    menuIcon.classList.remove('hidden');
                    closeIcon.classList.add('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                }
            });
        }

        // Global Loader Logic
        window.addEventListener('load', () => {
            const loader = document.getElementById('page-loader');
            if (loader) {
                setTimeout(() => {
                    loader.classList.add('opacity-0');
                    setTimeout(() => {
                        loader.classList.add('hidden');
                    }, 500);
                }, 100); // Slight delay to ensure smooth transition
            }
        });

        // Add spinner to form submits
        document.addEventListener('submit', (e) => {
            const form = e.target;
            const btn = form.querySelector('button[type="submit"]');
            if (btn && !btn.disabled) {
                btn.disabled = true;
                const originalContent = btn.innerHTML;
                // Keep dimensions if possible or just replace content
                btn.innerHTML = `<i data-lucide="loader-2" class="w-5 h-5 animate-spin mx-auto"></i>`;
                lucide.createIcons();

                // Restore after 10s if no navigation happens (fallback)
                setTimeout(() => {
                    btn.disabled = false;
                    btn.innerHTML = originalContent;
                    lucide.createIcons();
                }, 10000);
            }
        });
    </script>
    {% block scripts %}{% endblock %}
</body>

</html>